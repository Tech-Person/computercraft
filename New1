-- Peripheral setup
local monitor = peripheral.wrap("right")
local inv = peripheral.wrap("left")

monitor.setTextScale(0.5)

local width, height = monitor.getSize()
local scroll = 0
local items = {}

-- Load inventory into table
local function loadItems()
    items = {}
    for _, item in pairs(inv.list()) do
        local name = item.name:gsub(".-:", "")
        table.insert(items, name .. " x" .. item.count)
    end
end

-- Draw items based on scroll position
local function draw()
    monitor.clear()
    for i = 1, height do
        local index = i + scroll
        if items[index] then
            monitor.setCursorPos(1, i)
            monitor.write(items[index])
        end
    end
end

loadItems()
draw()

-- Touch handler
while true do
    local _, _, x, y = os.pullEvent("monitor_touch")

    -- Top half scrolls up
    if y <= height / 2 then
        scroll = math.max(0, scroll - 1)

    -- Bottom half scrolls down
    else
        if scroll < #items - height then
            scroll = scroll + 1
        end
    end

    draw()
end
